{"version":3,"sources":["webpack:///./src/views/admin/schedules/edit.vue","webpack:///./src/views/admin/schedules/edit.vue?f2dc","webpack:///./src/components/input-radio.vue","webpack:///./src/components/input-radio.vue?ed90"],"names":["class","value","form","chamber_id","schedules","chambers","chamber","id","key","name","date","default","inputValue","inputEvents","type","s_time","e_time","slot_thresholds","slot_thresold","index","support_type_id","support_type","placeholder","slot","threshold","remove","add","active","submitForm","components","Select","Calendar","DatePicker","Btn","InputRadio","timezone","Date","foo","this","valideData","$store","dispatch","scheduleId","computed","state","adminSchedule","createSchedule","data","editSchedule","schedule","console","log","Object","entries","$route","params","dates","formatDate","watch","start_time","end_time","i","slot_threshold","methods","axios","put","then","$toast","success","position","duration","$router","push","input","month","getMonth","day","getDate","year","getFullYear","length","join","slot_thresolds","splice","__exports__","render","for","title","$emit","$event","target","ref","props","String","emits","$refs","focus"],"mappings":"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","file":"js/chunk-5a4d600a.5555fb1b.js","sourcesContent":["<template>\r\n    <div class=\"max-w-lg mx-auto bg-white p-4 rounded mt-8\">\r\n        <label class=\"text-2xl\">Schedule</label>\r\n        <div class=\"text-left\">\r\n            <label class=\"text-base md:text-md\">Chamber</label>\r\n            <Select class=\"w-full border py-3 bg-white outline-none p-2\" v-model=\"form.chamber_id\">\r\n                <option :value=\"chamber.id\" v-for=\"chamber in schedules.chambers\" :key=\"chamber.id\">{{ chamber.name }}</option>\r\n            </Select>\r\n        </div>\r\n        <!-- {{ $store.state.adminSchedule.editSchedule.schedule.chamber_id }} -->\r\n\r\n        <div class=\"text-left\">\r\n            <label>Date</label>\r\n             <date-picker v-model=\"form.date\">\r\n                <template #default=\"{ inputValue, inputEvents }\">\r\n                    <input class=\"w-full px-3 py-2 border rounded\" :value=\"inputValue\" v-on=\"inputEvents\" />\r\n                </template>\r\n            </date-picker>\r\n        </div>\r\n\r\n        <div class=\"text-left flex gap-2\">\r\n            <div>\r\n                <label>Start Time</label>\r\n                <input type=\"time\" v-model=\"form.s_time\" class=\"w-full py-2 rounded p-2 border\"> \r\n            </div>\r\n            <div>\r\n                <label>End Time</label>\r\n                <input type=\"time\" v-model=\"form.e_time\" class=\"w-full py-2 rounded p-2 border\">\r\n            </div>\r\n        </div>\r\n        <div class=\"text-left grid gap-2 mt-2\">\r\n            <div>\r\n                <div class=\"grid\">\r\n                    <div class=\"flex mb-2 gap-2\" v-for=\"(slot_thresold, index) in form.slot_thresholds\" :key=\"index\">\r\n                        <Select v-model=\"form.slot_thresholds[index].support_type_id\" class=\"rounded focus:outline-none p-2\" >\r\n                            <option value=\"\"> Select Type </option>\r\n                            <option v-for=\"support_type in schedules.support_type\" :key=\"support_type.id\" :value=\"support_type.id\"> {{ support_type.name }} </option>\r\n                        </Select>\r\n                        <input class=\"py-2 p-1 rounded-md w-32 border\" v-model=\"form.slot_thresholds[index].slot\" placeholder=\"Slot\"/>\r\n                        <input class=\"py-2 p-1 rounded-md w-32 border\" v-model=\"form.slot_thresholds[index].threshold\" placeholder=\"Threshold\" />\r\n                        <button class=\"col-span-1 text-red-500\" @click=\"remove(index)\">\r\n                            &#9587;\r\n                        </button>\r\n                    </div>\r\n                </div>\r\n                <Btn type=\"button\" @click=\"add()\"> + Add</Btn>\r\n            </div>\r\n        </div>\r\n\r\n        <div class=\"text-left\">\r\n            <label class=\"text-base md:text-md\">Status</label>\r\n            <Select class=\"w-full border py-3 bg-white outline-none p-2\" v-model=\"form.active\">\r\n                <option value=\"1\" > Active </option>\r\n                <option value=\"0\" > Inactive </option>\r\n            </Select>\r\n        </div>\r\n\r\n        <Btn class=\"mt-2\" type=\"submit\" @click=\"submitForm()\">Submit</Btn>\r\n    </div>\r\n</template>\r\n\r\n<script> \r\nimport Select from '../../../components/select.vue'\r\nimport Btn from '../../../components/btn.vue'\r\nimport InputRadio from '../../../components/input-radio.vue'\r\nimport { Calendar, DatePicker } from 'v-calendar'\r\nimport 'v-calendar/dist/style.css';\r\nimport axios from \"../../../store/axios.js\"\r\n\r\nexport default {\r\n    components: {\r\n        Select,\r\n        Calendar,\r\n        DatePicker,\r\n        Btn,\r\n        InputRadio\r\n\r\n    },\r\n   data() {\r\n    return {\r\n        form :{\r\n            timezone: '',\r\n            s_time: '',\r\n            e_time: '',\r\n            chamber_id: '',\r\n            active: '',\r\n            slot_thresholds:[\r\n                {\r\n                    threshold:\"\",\r\n                    slot:\"\",\r\n                    support_type_id:'',\r\n                },\r\n            ],\r\n            date: new Date(),\r\n        },\r\n        foo: this.valideData()\r\n      \r\n    };\r\n  },\r\n  created(){\r\n      this.$store.dispatch('adminSchedule/createSchedule');\r\n      this.$store.dispatch('adminSchedule/editSchedule', {\r\n          scheduleId: this.scheduleId\r\n      });\r\n      \r\n      \r\n  },\r\n\r\n\r\n  computed:{\r\n      schedules(){\r\n          return this.$store.state.adminSchedule.createSchedule;\r\n      },\r\n      editSchedule(){\r\n        const data = this.$store.state.adminSchedule.editSchedule;\r\n        return data.schedule;\r\n      },\r\n      showData(){\r\n          return this.editSchedule || {};\r\n      },\r\n      slotThreshold(){\r\n          console.log('ddf',Object.entries(this.$store.state.adminSchedule.editSchedule));\r\n      },\r\n      scheduleId(){\r\n          return this.$route.params.scheduleId;\r\n      },\r\n       dates: {\r\n            get() {\r\n                return this.formatDate(this.form.date)\r\n            }\r\n        },\r\n    //   chambers(){\r\n    //       console.log(this.schedules)\r\n    //   }\r\n  },\r\n\r\n    watch: {\r\n        '$store.state.adminSchedule.editSchedule'( data ){\r\n            console.log('sss',data.schedule)\r\n            if( data.schedule ) {\r\n                this.form.chamber_id = data.schedule.chamber_id;\r\n                this.form.date = data.schedule.date;\r\n                this.form.s_time = data.schedule.start_time;\r\n                this.form.e_time = data.schedule.end_time;\r\n                this.form.active = data.schedule.active;\r\n                var i = 0;\r\n                for (const key in data.schedule.slot_threshold) {\r\n                        console.log('ok',(this.form.slot_thresholds[i] = data.schedule.slot_threshold[key]));\r\n                        console.log('ok',(this.form.slot_thresholds[i].support_type_id = key));\r\n                        i++;\r\n                }\r\n            }\r\n        }\r\n    },\r\n\r\n  methods:{\r\n    //   submitForm(){\r\n    //       console.log(this.dates, this.form.chamber_id, this.form.s_time, this.form.e_time, this.form.slot_thresholds);\r\n    //   },\r\n      async submitForm(){\r\n            let schedule = await axios().put(`/api/schedules/${this.scheduleId}`, {\r\n                chamber_id: this.form.chamber_id,\r\n                date:  this.dates,\r\n                s_time: this.form.s_time,\r\n                e_time: this.form.e_time,\r\n                active: this.form.active,\r\n                slot_thresholds: this.form.slot_thresholds,\r\n\r\n            }).then( () => {\r\n                this.$toast.success(`Schedule Successfuly Updated !!!`,{\r\n                   position: \"top-right\",\r\n                   duration:3000\r\n                });\r\n                 this.$router.push( '/admin/schedules');\r\n            } )\r\n            console.log(schedule);\r\n        },\r\n\r\n        valideData(){\r\n            console.log('fsadf', this.editSchedule)\r\n        },\r\n\r\n      formatDate(input) {\r\n\r\n            let date = new Date(input);\r\n            let month = '' + (date.getMonth() + 1);\r\n            let day = '' + date.getDate();\r\n            let year = date.getFullYear();\r\n\r\n            if (month.length < 2) {\r\n                month = '0' + month;\r\n            }\r\n\r\n            if (day.length < 2) {\r\n                day = '0' + day;\r\n            }\r\n                \r\n            return [year, month, day].join('-');\r\n        },\r\n\r\n        add() {\r\n            console.log('asche', this.form.slot_thresolds);\r\n            this.form.slot_thresholds.push({\r\n                threshold:\" \",\r\n                slot:\" \",\r\n                support_type_id:'',\r\n            });\r\n        },\r\n        \r\n        remove(index){\r\n            this.form.slot_thresholds.splice(index, 1);\r\n        }\r\n\r\n\r\n  }\r\n}\r\n</script>","import { render } from \"./edit.vue?vue&type=template&id=49365fd9\"\nimport script from \"./edit.vue?vue&type=script&lang=js\"\nexport * from \"./edit.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\gcpsc\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n     <div class=\"flex items-center mb-4 gap-2\">\r\n        <label for=\"default-radio-1\" class=\"text-md font-medium text-gray-900 dark:text-gray-300\">{{ title }}</label>\r\n        <input id=\"default-radio-1\" type=\"radio\" :value=\"value\" name=\"default-radio\"\r\n        @input=\"$emit('update:modelValue', $event.target.value)\"\r\n        ref=\"input\"\r\n        class=\"text-blue-600 bg-gray-100 border-gray-300\">\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    props:{\r\n         title: String,\r\n         value: Object,\r\n    },\r\n    emits: [\"update:modelValue\"],\r\n    methods: {\r\n        focus() {\r\n            this.$refs.input.focus();\r\n        },\r\n    },\r\n}\r\n</script>","import { render } from \"./input-radio.vue?vue&type=template&id=407d71c1\"\nimport script from \"./input-radio.vue?vue&type=script&lang=js\"\nexport * from \"./input-radio.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\gcpsc\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}