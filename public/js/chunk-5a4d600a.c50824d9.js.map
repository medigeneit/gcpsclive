{"version":3,"sources":["webpack:///./src/views/admin/schedules/edit.vue","webpack:///./src/views/admin/schedules/edit.vue?f2dc","webpack:///./src/components/input-radio.vue","webpack:///./src/components/input-radio.vue?ed90"],"names":["class","value","form","chamber_id","schedules","chambers","chamber","id","key","name","date","default","inputValue","inputEvents","type","s_time","e_time","slot_thresholds","slot_thresold","index","support_type_id","support_type","placeholder","slot","threshold","remove","add","active","to","submitForm","components","Select","Calendar","DatePicker","Btn","InputRadio","timezone","Date","foo","this","valideData","$store","dispatch","scheduleId","computed","state","adminSchedule","createSchedule","data","editSchedule","schedule","console","log","Object","entries","$route","params","dates","formatDate","watch","start_time","end_time","i","slot_threshold","methods","axios","put","then","$toast","success","position","duration","$router","push","input","month","getMonth","day","getDate","year","getFullYear","length","join","slot_thresolds","splice","__exports__","render","for","title","$emit","$event","target","ref","props","String","emits","$refs","focus"],"mappings":"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","file":"js/chunk-5a4d600a.c50824d9.js","sourcesContent":["<template>\r\n  <div class=\"max-w-lg mx-auto bg-white p-4 rounded mt-8\">\r\n    <label class=\"text-2xl\">Schedule</label>\r\n    <div class=\"text-left\">\r\n      <label class=\"text-base md:text-md\">Chamber</label>\r\n      <Select\r\n        class=\"w-full border py-3 bg-white outline-none p-2\"\r\n        v-model=\"form.chamber_id\"\r\n      >\r\n        <option\r\n          :value=\"chamber.id\"\r\n          v-for=\"chamber in schedules.chambers\"\r\n          :key=\"chamber.id\"\r\n        >\r\n          {{ chamber.name }}\r\n        </option>\r\n      </Select>\r\n    </div>\r\n    <!-- {{ $store.state.adminSchedule.editSchedule.schedule.chamber_id }} -->\r\n\r\n    <div class=\"text-left\">\r\n      <label>Date</label>\r\n      <date-picker v-model=\"form.date\">\r\n        <template #default=\"{ inputValue, inputEvents }\">\r\n          <input\r\n            class=\"w-full px-3 py-2 border rounded\"\r\n            :value=\"inputValue\"\r\n            v-on=\"inputEvents\"\r\n          />\r\n        </template>\r\n      </date-picker>\r\n    </div>\r\n\r\n    <div class=\"text-left flex gap-2\">\r\n      <div>\r\n        <label>Start Time</label>\r\n        <input\r\n          type=\"time\"\r\n          v-model=\"form.s_time\"\r\n          class=\"w-full py-2 rounded p-2 border\"\r\n        />\r\n      </div>\r\n      <div>\r\n        <label>End Time</label>\r\n        <input\r\n          type=\"time\"\r\n          v-model=\"form.e_time\"\r\n          class=\"w-full py-2 rounded p-2 border\"\r\n        />\r\n      </div>\r\n    </div>\r\n    <div class=\"text-left grid gap-2 mt-2\">\r\n      <div>\r\n        <div class=\"grid\">\r\n          <div\r\n            class=\"flex mb-2 gap-2\"\r\n            v-for=\"(slot_thresold, index) in form.slot_thresholds\"\r\n            :key=\"index\"\r\n          >\r\n            <Select\r\n              v-model=\"form.slot_thresholds[index].support_type_id\"\r\n              class=\"rounded focus:outline-none p-2\"\r\n            >\r\n              <option value=\"\">Select Type</option>\r\n              <option\r\n                v-for=\"support_type in schedules.support_type\"\r\n                :key=\"support_type.id\"\r\n                :value=\"support_type.id\"\r\n              >\r\n                {{ support_type.name }}\r\n              </option>\r\n            </Select>\r\n            <input\r\n              class=\"py-2 p-1 rounded-md w-32 border\"\r\n              v-model=\"form.slot_thresholds[index].slot\"\r\n              placeholder=\"Slot\"\r\n            />\r\n            <input\r\n              class=\"py-2 p-1 rounded-md w-32 border\"\r\n              v-model=\"form.slot_thresholds[index].threshold\"\r\n              placeholder=\"Threshold\"\r\n            />\r\n            <button class=\"col-span-1 text-red-500\" @click=\"remove(index)\">\r\n              &#9587;\r\n            </button>\r\n          </div>\r\n        </div>\r\n        <Btn type=\"button\" @click=\"add()\"> + Add</Btn>\r\n      </div>\r\n    </div>\r\n\r\n    <div class=\"text-left\">\r\n      <label class=\"text-base md:text-md\">Status</label>\r\n      <Select\r\n        class=\"w-full border py-3 bg-white outline-none p-2\"\r\n        v-model=\"form.active\"\r\n      >\r\n        <option value=\"1\">Active</option>\r\n        <option value=\"0\">Inactive</option>\r\n      </Select>\r\n    </div>\r\n    <div class=\"flex justify-between items-center mt-4\">\r\n      <router-link\r\n        to=\"/admin/schedules\"\r\n        class=\"bg-red-500 text-white rounded-md py-1.5 px-2\"\r\n        >Cancel</router-link\r\n      >\r\n      <Btn class=\"mt-2\" type=\"submit\" @click=\"submitForm()\">Submit</Btn>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Select from \"../../../components/select.vue\";\r\nimport Btn from \"../../../components/btn.vue\";\r\nimport InputRadio from \"../../../components/input-radio.vue\";\r\nimport { Calendar, DatePicker } from \"v-calendar\";\r\nimport \"v-calendar/dist/style.css\";\r\nimport axios from \"../../../store/axios.js\";\r\n\r\nexport default {\r\n  components: {\r\n    Select,\r\n    Calendar,\r\n    DatePicker,\r\n    Btn,\r\n    InputRadio,\r\n  },\r\n  data() {\r\n    return {\r\n      form: {\r\n        timezone: \"\",\r\n        s_time: \"\",\r\n        e_time: \"\",\r\n        chamber_id: \"\",\r\n        active: \"\",\r\n        slot_thresholds: [\r\n          {\r\n            threshold: \"\",\r\n            slot: \"\",\r\n            support_type_id: \"\",\r\n          },\r\n        ],\r\n        date: new Date(),\r\n      },\r\n      foo: this.valideData(),\r\n    };\r\n  },\r\n  created() {\r\n    this.$store.dispatch(\"adminSchedule/createSchedule\");\r\n    this.$store.dispatch(\"adminSchedule/editSchedule\", {\r\n      scheduleId: this.scheduleId,\r\n    });\r\n  },\r\n\r\n  computed: {\r\n    schedules() {\r\n      return this.$store.state.adminSchedule.createSchedule;\r\n    },\r\n    editSchedule() {\r\n      const data = this.$store.state.adminSchedule.editSchedule;\r\n      return data.schedule;\r\n    },\r\n    showData() {\r\n      return this.editSchedule || {};\r\n    },\r\n    slotThreshold() {\r\n      console.log(\r\n        \"ddf\",\r\n        Object.entries(this.$store.state.adminSchedule.editSchedule)\r\n      );\r\n    },\r\n    scheduleId() {\r\n      return this.$route.params.scheduleId;\r\n    },\r\n    dates: {\r\n      get() {\r\n        return this.formatDate(this.form.date);\r\n      },\r\n    },\r\n    //   chambers(){\r\n    //       console.log(this.schedules)\r\n    //   }\r\n  },\r\n\r\n  watch: {\r\n    \"$store.state.adminSchedule.editSchedule\"(data) {\r\n      console.log(\"sss\", data.schedule);\r\n      if (data.schedule) {\r\n        this.form.chamber_id = data.schedule.chamber_id;\r\n        this.form.date = data.schedule.date;\r\n        this.form.s_time = data.schedule.start_time;\r\n        this.form.e_time = data.schedule.end_time;\r\n        this.form.active = data.schedule.active;\r\n        var i = 0;\r\n        for (const key in data.schedule.slot_threshold) {\r\n          console.log(\r\n            \"ok\",\r\n            (this.form.slot_thresholds[i] = data.schedule.slot_threshold[key])\r\n          );\r\n          console.log(\r\n            \"ok\",\r\n            (this.form.slot_thresholds[i].support_type_id = key)\r\n          );\r\n          i++;\r\n        }\r\n      }\r\n    },\r\n  },\r\n\r\n  methods: {\r\n    //   submitForm(){\r\n    //       console.log(this.dates, this.form.chamber_id, this.form.s_time, this.form.e_time, this.form.slot_thresholds);\r\n    //   },\r\n    async submitForm() {\r\n      let schedule = await axios()\r\n        .put(`/api/schedules/${this.scheduleId}`, {\r\n          chamber_id: this.form.chamber_id,\r\n          date: this.dates,\r\n          s_time: this.form.s_time,\r\n          e_time: this.form.e_time,\r\n          active: this.form.active,\r\n          slot_thresholds: this.form.slot_thresholds,\r\n        })\r\n        .then(() => {\r\n          this.$toast.success(`Schedule Successfuly Updated !!!`, {\r\n            position: \"top-right\",\r\n            duration: 3000,\r\n          });\r\n          this.$router.push(\"/admin/schedules\");\r\n        });\r\n      console.log(schedule);\r\n    },\r\n\r\n    valideData() {\r\n      console.log(\"fsadf\", this.editSchedule);\r\n    },\r\n\r\n    formatDate(input) {\r\n      let date = new Date(input);\r\n      let month = \"\" + (date.getMonth() + 1);\r\n      let day = \"\" + date.getDate();\r\n      let year = date.getFullYear();\r\n\r\n      if (month.length < 2) {\r\n        month = \"0\" + month;\r\n      }\r\n\r\n      if (day.length < 2) {\r\n        day = \"0\" + day;\r\n      }\r\n\r\n      return [year, month, day].join(\"-\");\r\n    },\r\n\r\n    add() {\r\n      console.log(\"asche\", this.form.slot_thresolds);\r\n      this.form.slot_thresholds.push({\r\n        threshold: \" \",\r\n        slot: \" \",\r\n        support_type_id: \"\",\r\n      });\r\n    },\r\n\r\n    remove(index) {\r\n      this.form.slot_thresholds.splice(index, 1);\r\n    },\r\n  },\r\n};\r\n</script>\r\n","import { render } from \"./edit.vue?vue&type=template&id=31262cbc\"\nimport script from \"./edit.vue?vue&type=script&lang=js\"\nexport * from \"./edit.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\gcpsc\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","<template>\r\n     <div class=\"flex items-center mb-4 gap-2\">\r\n        <label for=\"default-radio-1\" class=\"text-md font-medium text-gray-900 dark:text-gray-300\">{{ title }}</label>\r\n        <input id=\"default-radio-1\" type=\"radio\" :value=\"value\" name=\"default-radio\"\r\n        @input=\"$emit('update:modelValue', $event.target.value)\"\r\n        ref=\"input\"\r\n        class=\"text-blue-600 bg-gray-100 border-gray-300\">\r\n    </div>\r\n</template>\r\n<script>\r\nexport default {\r\n    props:{\r\n         title: String,\r\n         value: Object,\r\n    },\r\n    emits: [\"update:modelValue\"],\r\n    methods: {\r\n        focus() {\r\n            this.$refs.input.focus();\r\n        },\r\n    },\r\n}\r\n</script>","import { render } from \"./input-radio.vue?vue&type=template&id=407d71c1\"\nimport script from \"./input-radio.vue?vue&type=script&lang=js\"\nexport * from \"./input-radio.vue?vue&type=script&lang=js\"\n\nimport exportComponent from \"E:\\\\gcpsc\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__"],"sourceRoot":""}