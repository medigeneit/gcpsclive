(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5a4d600a"],{c7bb:function(e,t,l){"use strict";l.r(t);var o=l("7a23");const d={class:"max-w-lg mx-auto bg-white p-4 rounded mt-8"},c=Object(o["createElementVNode"])("label",{class:"text-2xl"},"Schedule",-1),s={class:"text-left"},a=Object(o["createElementVNode"])("label",{class:"text-base md:text-md"},"Chamber",-1),r=["value"],n={class:"text-left"},i=Object(o["createElementVNode"])("label",null,"Date",-1),u=["value"],m={class:"text-left flex gap-2"},h=Object(o["createElementVNode"])("label",null,"Start Time",-1),b=Object(o["createElementVNode"])("label",null,"End Time",-1),p={class:"text-left grid gap-2 mt-2"},f={class:"grid"},j=Object(o["createElementVNode"])("option",{value:""},"Select Type",-1),O=["value"],V=["onUpdate:modelValue"],v=["onUpdate:modelValue"],_=["onClick"],g=Object(o["createTextVNode"])(" + Add"),x={class:"text-left"},E=Object(o["createElementVNode"])("label",{class:"text-base md:text-md"},"Status",-1),N=Object(o["createElementVNode"])("option",{value:"1"},"Active",-1),w=Object(o["createElementVNode"])("option",{value:"0"},"Inactive",-1),y={class:"flex justify-between items-center mt-4"},k=Object(o["createTextVNode"])("Cancel"),S=Object(o["createTextVNode"])("Submit");function B(e,t,l,B,C,D){const T=Object(o["resolveComponent"])("Select"),U=Object(o["resolveComponent"])("date-picker"),$=Object(o["resolveComponent"])("Btn"),I=Object(o["resolveComponent"])("router-link");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",d,[c,Object(o["createElementVNode"])("div",s,[a,Object(o["createVNode"])(T,{class:"w-full border py-3 bg-white outline-none p-2",modelValue:C.form.chamber_id,"onUpdate:modelValue":t[0]||(t[0]=e=>C.form.chamber_id=e)},{default:Object(o["withCtx"])(()=>[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(D.schedules.chambers,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("option",{value:e.id,key:e.id},Object(o["toDisplayString"])(e.name),9,r))),128))]),_:1},8,["modelValue"])]),Object(o["createElementVNode"])("div",n,[i,Object(o["createVNode"])(U,{modelValue:C.form.date,"onUpdate:modelValue":t[1]||(t[1]=e=>C.form.date=e)},{default:Object(o["withCtx"])(({inputValue:e,inputEvents:t})=>[Object(o["createElementVNode"])("input",Object(o["mergeProps"])({class:"w-full px-3 py-2 border rounded",value:e},Object(o["toHandlers"])(t)),null,16,u)]),_:1},8,["modelValue"])]),Object(o["createElementVNode"])("div",m,[Object(o["createElementVNode"])("div",null,[h,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"time","onUpdate:modelValue":t[2]||(t[2]=e=>C.form.s_time=e),class:"w-full py-2 rounded p-2 border"},null,512),[[o["vModelText"],C.form.s_time]])]),Object(o["createElementVNode"])("div",null,[b,Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"time","onUpdate:modelValue":t[3]||(t[3]=e=>C.form.e_time=e),class:"w-full py-2 rounded p-2 border"},null,512),[[o["vModelText"],C.form.e_time]])])]),Object(o["createElementVNode"])("div",p,[Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div",f,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(C.form.slot_thresholds,(e,t)=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"flex mb-2 gap-2",key:t},[Object(o["createVNode"])(T,{modelValue:C.form.slot_thresholds[t].support_type_id,"onUpdate:modelValue":e=>C.form.slot_thresholds[t].support_type_id=e,class:"rounded focus:outline-none p-2"},{default:Object(o["withCtx"])(()=>[j,(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(D.schedules.support_type,e=>(Object(o["openBlock"])(),Object(o["createElementBlock"])("option",{key:e.id,value:e.id},Object(o["toDisplayString"])(e.name),9,O))),128))]),_:2},1032,["modelValue","onUpdate:modelValue"]),Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{class:"py-2 p-1 rounded-md w-32 border","onUpdate:modelValue":e=>C.form.slot_thresholds[t].slot=e,placeholder:"Slot"},null,8,V),[[o["vModelText"],C.form.slot_thresholds[t].slot]]),Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{class:"py-2 p-1 rounded-md w-32 border","onUpdate:modelValue":e=>C.form.slot_thresholds[t].threshold=e,placeholder:"Threshold"},null,8,v),[[o["vModelText"],C.form.slot_thresholds[t].threshold]]),Object(o["createElementVNode"])("button",{class:"col-span-1 text-red-500",onClick:e=>D.remove(t)}," â•³ ",8,_)]))),128))]),Object(o["createVNode"])($,{type:"button",onClick:t[4]||(t[4]=e=>D.add())},{default:Object(o["withCtx"])(()=>[g]),_:1})])]),Object(o["createElementVNode"])("div",x,[E,Object(o["createVNode"])(T,{class:"w-full border py-3 bg-white outline-none p-2",modelValue:C.form.active,"onUpdate:modelValue":t[5]||(t[5]=e=>C.form.active=e)},{default:Object(o["withCtx"])(()=>[N,w]),_:1},8,["modelValue"])]),Object(o["createElementVNode"])("div",y,[Object(o["createVNode"])(I,{to:"/admin/schedules",class:"bg-red-500 text-white rounded-md py-1.5 px-2"},{default:Object(o["withCtx"])(()=>[k]),_:1}),Object(o["createVNode"])($,{class:"mt-2",type:"submit",onClick:t[6]||(t[6]=e=>D.submitForm())},{default:Object(o["withCtx"])(()=>[S]),_:1})])])}var C=l("9773"),D=l("6f93"),T=l("df33"),U=l("0261"),$=(l("09c5"),l("734c")),I={components:{Select:C["a"],Calendar:U["a"],DatePicker:U["b"],Btn:D["a"],InputRadio:T["a"]},data(){return{form:{timezone:"",s_time:"",e_time:"",chamber_id:"",active:"",slot_thresholds:[{threshold:"",slot:"",support_type_id:""}],date:new Date},foo:this.valideData()}},created(){this.$store.dispatch("adminSchedule/createSchedule"),this.$store.dispatch("adminSchedule/editSchedule",{scheduleId:this.scheduleId})},computed:{schedules(){return this.$store.state.adminSchedule.createSchedule},editSchedule(){const e=this.$store.state.adminSchedule.editSchedule;return e.schedule},showData(){return this.editSchedule||{}},slotThreshold(){console.log("ddf",Object.entries(this.$store.state.adminSchedule.editSchedule))},scheduleId(){return this.$route.params.scheduleId},dates:{get(){return this.formatDate(this.form.date)}}},watch:{"$store.state.adminSchedule.editSchedule"(e){if(console.log("sss",e.schedule),e.schedule){this.form.chamber_id=e.schedule.chamber_id,this.form.date=e.schedule.date,this.form.s_time=e.schedule.start_time,this.form.e_time=e.schedule.end_time,this.form.active=e.schedule.active;var t=0;for(const l in e.schedule.slot_threshold)console.log("ok",this.form.slot_thresholds[t]=e.schedule.slot_threshold[l]),console.log("ok",this.form.slot_thresholds[t].support_type_id=l),t++}}},methods:{async submitForm(){let e=await Object($["a"])().put("/api/schedules/"+this.scheduleId,{chamber_id:this.form.chamber_id,date:this.dates,s_time:this.form.s_time,e_time:this.form.e_time,active:this.form.active,slot_thresholds:this.form.slot_thresholds}).then(()=>{this.$toast.success("Schedule Successfuly Updated !!!",{position:"top-right",duration:3e3}),this.$router.push("/admin/schedules")});console.log(e)},valideData(){console.log("fsadf",this.editSchedule)},formatDate(e){let t=new Date(e),l=""+(t.getMonth()+1),o=""+t.getDate(),d=t.getFullYear();return l.length<2&&(l="0"+l),o.length<2&&(o="0"+o),[d,l,o].join("-")},add(){console.log("asche",this.form.slot_thresolds),this.form.slot_thresholds.push({threshold:" ",slot:" ",support_type_id:""})},remove(e){this.form.slot_thresholds.splice(e,1)}}},F=l("6b0d"),M=l.n(F);const L=M()(I,[["render",B]]);t["default"]=L},df33:function(e,t,l){"use strict";var o=l("7a23");const d={class:"flex items-center mb-4 gap-2"},c={for:"default-radio-1",class:"text-md font-medium text-gray-900 dark:text-gray-300"},s=["value"];function a(e,t,l,a,r,n){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",d,[Object(o["createElementVNode"])("label",c,Object(o["toDisplayString"])(l.title),1),Object(o["createElementVNode"])("input",{id:"default-radio-1",type:"radio",value:l.value,name:"default-radio",onInput:t[0]||(t[0]=t=>e.$emit("update:modelValue",t.target.value)),ref:"input",class:"text-blue-600 bg-gray-100 border-gray-300"},null,40,s)])}var r={props:{title:String,value:Object},emits:["update:modelValue"],methods:{focus(){this.$refs.input.focus()}}},n=l("6b0d"),i=l.n(n);const u=i()(r,[["render",a]]);t["a"]=u}}]);
//# sourceMappingURL=chunk-5a4d600a.c50824d9.js.map